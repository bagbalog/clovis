let BI_Clovis={whiteListedKeys:[],colorCodeMain:["background: linear-gradient(#73be28, #3bb24a)","border: 1px solid #3E0E02","color: white","display: block","text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)","box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 2px 2px -2px rgba(0, 0, 0, 0.5), 0 -2px 2px -2px rgba(255, 255, 255, 0.4) inset","line-height: 20px","text-align: center","font-weight: bold"].join(";"),colorCodeHighlight:["background: linear-gradient(#1496ff, #1e74bb)","border: 1px solid #3E0E02","color: white","display: block","text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)","box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 2px 2px -2px rgba(0, 0, 0, 0.5), 0 -2px 2px -2px rgba(255, 255, 255, 0.4) inset","line-height: 20px","text-align: center","font-weight: bold"].join(";"),colorCodeCookies:["background: linear-gradient(#6f2da8, #8757b6)","border: 1px solid #3E0E02","color: white","display: block","text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)","box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 2px 2px -2px rgba(0, 0, 0, 0.5), 0 -2px 2px -2px rgba(255, 255, 255, 0.4) inset","line-height: 25px","font-size: 25px","text-align: center","font-weight: bold","text-decoration: underline"].join(";"),colorCodeMaster:["background: linear-gradient(#010101, #373737)","border: 1px solid #3E0E02","color: white","display: block","text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)","box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 2px 2px -2px rgba(0, 0, 0, 0.5), 0 -2px 2px -2px rgba(255, 255, 255, 0.4) inset","line-height: 25px","font-size: 25px","text-align: center","font-weight: bold","text-decoration: underline"].join(";"),colorCodeFinish:["background: linear-gradient(to right, #73be28, #3bb24a, #1496ff, #1e74bb, #6f2da8, #8757b6)","border: 1px solid #3E0E02","color: white","display: block","text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)","box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 2px 2px -2px rgba(0, 0, 0, 0.5), 0 -2px 2px -2px rgba(255, 255, 255, 0.4) inset","line-height: 25px","text-align: center","font-weight: bold","padding: 0px 100px 0px 100px"].join(";"),colorCodeReminder:[,"border: 1px solid #FF0000","display: block","line-height: 16px","font-size: 16px","text-align: center","font-weight: bold","margin: 5px"].join(";"),clovisSearchType:"both",cookieEmoji:String.fromCodePoint(127850),blackListedKeys:["Back","Bounce","Circ","Elastic","Expo","Modernizr","ShadyCSS","Sine","WebComponents","WindowResize","YT","YTConfig","allCookiesArray","allCookiesObj","allCookiesObject","angular","angularCacheModuleName","blackListedKeys","chrome","colorCodeCookies","colorCodeHighlight","colorCodeMain","colorCodeMaster","dT_","devicePixelRatio","frames","globalIterationValue","grabCookies","history","html5","innerHeight","innerWidth","isSecureContext","length","locationbar","masterObject","masterObject","menubar","ng","ngMaterial","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","personalbar","ruxitagent","screen","screenLeft","screenTop","screenX","screenY","scrollX","scrollY","scrollbar","scrollbars","self","speechSynthesis","statusbar","styleMedia","toolbar","top","visualViewport","visualViewport","w","webkitStorageInfo","whiteListedKeys","yt","ytEventsEventsCounter","ytPubsubPubsubInstance","globalIterationValue","clovisSearchType","cookieEmoji","___FONT_AWESOME___"],init:function(){this.globalIterationValue?7!==this.globalIterationValue&&console.log("Custom set globalIterationValue ",this.globalIterationValue):this.globalIterationValue=7,this.whiteListPrompt(),this.searchTypePrompt(),console.log("%c.o88b. db       .d88b.  db    db d888888b .d8888.                  \nd8P  Y8 88      .8P  Y8. 88    88   `88'   88'  YP                  \n8P      88      88    88 Y8    8P    88    `8bo.                    \n8b      88      88    88 `8b  d8'    88      `Y8b.                  \nY8b  d8 88booo. `8b  d8'  `8bd8'    .88.   db   8D                  \n `Y88P' Y88888P  `Y88P'     YP    Y888888P `8888Y'                 \n\nd8888b. db    db                                                    \n88  `8D `8b  d8'                                                    \n88oooY'  `8bd8'                                                     \n88~~~b.    88                                                       \n88   8D    88                                                       \nY8888P'    YP                                                       \n\nd8888b. db    db .d8888. d888888b d8b   db d88888b .d8888. .d8888.  \n88  `8D 88    88 88'  YP   `88'   888o  88 88'     88'  YP 88'  YP  \n88oooY' 88    88 `8bo.      88    88V8o 88 88ooooo `8bo.   `8bo.    \n88~~~b. 88    88   `Y8b.    88    88 V8o88 88~~~~~   `Y8b.   `Y8b.  \n88   8D 88b  d88 db   8D   .88.   88  V888 88.     db   8D db   8D  \nY8888P' ~Y8888P' `8888Y' Y888888P VP   V8P Y88888P `8888Y' `8888Y'  \n\nd888888b d8b   db .d8888. d888888b  d888b  db   db d888888b .d8888. \n  `88'   888o  88 88'  YP   `88'   88' Y8b 88   88 `~~88~~' 88'  YP \n   88    88V8o 88 `8bo.      88    88      88ooo88    88    `8bo.   \n   88    88 V8o88   `Y8b.    88    88  ooo 88~~~88    88      `Y8b. \n  .88.   88  V888 db   8D   .88.   88. ~8~ 88   88    88    db   8D \nY888888P VP   V8P `8888Y' Y888888P  Y888P  YP   YP    YP    `8888Y' ","font-family:monospace;color:default");let e=this.objectCrawl(window),o=this.grabCookies();console.log("%c All Usable Global Variables ",this.colorCodeMaster),console.log(e),console.log("%c"+this.cookieEmoji+" All Usable Cookies "+this.cookieEmoji,this.colorCodeCookies),console.table(o),console.log("%c Finished! ",this.colorCodeFinish),this.whiteListedKeys=[],console.log("%c ↓ Test your variable(s) in the console below to ensure they work before saving in Dynatrace ↓ ",this.colorCodeReminder)},blacklist:function(){let e=prompt("What would you like to add to the blacklist? Separate entries by commas.","");if(e&&e.length>0){let o=(e=e.replace(/ /g,"")).split(",");o=o.filter(e=>null!==e&&""!==e),this.blackListedKeys=[...this.blackListedKeys,...o]}},setIterationValue:function(e){this.globalIterationValue=e},whiteListPrompt:function(){let e=prompt("What terms do you want to search the variables for specifically? (Separated by comma) \n\n An example has been logged to the console for some terms we generally recommend, depending on customer.","cart,device,digitalData");e&&e.length>0&&(e=e.replace(/ /g,"").split(","),this.whiteListedKeys=e)},searchTypePrompt:function(){let e=prompt("Do you want to search the Keys, the Values, or Both for the whitelist terms?","Both");(e=e.replace(/ /g,"")).length>0&&("both"===e.toLowerCase()&&(this.clovisSearchType="both"),"keys"!==e.toLowerCase()&&"key"!==e.toLowerCase()||(this.clovisSearchType="keys"),"values"!==e.toLowerCase()&&"value"!==e.toLowerCase()||(this.clovisSearchType="values"))},isBlacklisted:function(e,o){return this.blackListedKeys.includes(o)||this.blackListedKeys.includes(e[o])||"function"==typeof e[o]||void 0===e[o]||null===e[o]||e[o]instanceof HTMLElement||Array.isArray(e[o])||o.indexOf(".")>-1||o.indexOf("-")>-1},checkWhitelist:function(e,o,t,i,l){for(let l=0;l<this.whiteListedKeys.length;l++){let s=this.whiteListedKeys[l];if("both"!==this.clovisSearchType&&"keys"!==this.clovisSearchType||o.toLowerCase().indexOf(s.toLowerCase())>-1&&(console.log("%c "+s+" %c found in keys at %c "+i+"."+o,this.colorCodeHighlight,this.colorCodeMain,this.colorCodeHighlight),console.log(t)),("both"===this.clovisSearchType||"values"===this.clovisSearchType)&&e[o])try{"object"!=typeof e[o]&&null!==e[o]&&JSON.stringify(e[o]).toLowerCase().indexOf(s.toLowerCase())>-1&&(console.log("%c "+s+" %c found in values at %c "+i+"."+o,this.colorCodeHighlight,this.colorCodeMain,this.colorCodeHighlight),console.log(t))}catch(e){}}},objectCrawl:function(e,o,t,i){i=i?i+1:1;let l,s={};l=o?t?t+"."+o:o:"window";for(let o in e)try{if(this.isBlacklisted(e,o))continue;if("function"!=typeof e[o]&&e.hasOwnProperty(o)){if("boolean"!=typeof e[o]&&"number"!=typeof e[o]||(s[o]=e[o]),"object"==typeof e[o]&&void 0!==e[o]&&null!==e[o]&&e[o]!==e[o].parent){if(i<this.globalIterationValue){let t=this.objectCrawl(e[o],o,l,i);void 0!==t&&(s[o]=t)}else s[o]=e[o];void 0===s[o]&&delete s[o]}"string"==typeof e[o]&&e[o].length>0&&(s[o]=e[o]),this.checkWhitelist(e,o,s,l,i)}}catch(e){}if(Object.keys(s).length>0)try{return JSON.stringify(s),s}catch(e){}},grabCookies:function(){let e=document.cookie.split("; "),o={};for(let t in e)if("string"==typeof e[t]){e[t].split("=").length>2?o[e[t].split("=")[0]]=e[t].replace(e[t].split("=")[0]+"=",""):o[e[t].split("=")[0]]=e[t].split("=")[1];let i=this.whiteListedKeys;for(let o=0;o<i.length;o++)e[t].toLowerCase().indexOf(i[o].toLowerCase())>-1&&console.log("%c "+this.cookieEmoji+" "+i[o]+" %c was found in the cookies: %c "+e[t]+" "+this.cookieEmoji,this.colorCodeHighlight,this.colorCodeMain,this.colorCodeHighlight)}return o}};BI_Clovis.init();
